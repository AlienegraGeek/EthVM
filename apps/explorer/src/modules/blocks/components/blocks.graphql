query latestBlocks($offset: Int, $limit: Int) {

  blockSummaries(offset: $offset, limit: $limit) {
    ...BlockSummaryPage
  }

}

fragment BlockSummary on BlockSummary {
  number
  hash
  author
  numTxs
  numSuccessfulTxs
  numFailedTxs
  reward
  uncleHashes
  transactionHashes
  difficulty
  timestamp
}

fragment BlockSummaryPage on BlockSummaryPage {
  items {
    ...BlockSummary
  }
  totalCount
}

subscription newBlock {

  newBlock {
    ...BlockSummary
  }

}

query latestBlockMetrics($limit: Int) {

  blockMetrics(offset: 0, limit: $limit) {
    items {
      ...BlockMetric
    }
  }

}

subscription newBlockMetric {

  newBlockMetric {
    ...BlockMetric
  }

}

fragment BlockMetric on BlockMetric {

  number
  blockHash
  timestamp
  blockTime
  numUncles
  difficulty
  totalDifficulty
  totalGasPrice
  avgGasLimit
  avgGasPrice
  totalTxs
  numSuccessfulTxs
  numFailedTxs
  numInternalTxs
  totalTxFees
  avgTxFees

}
